(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"6d15":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6 col-xl-3 mb-3"},[e("b-card",{staticClass:"overflow-hidden h-100",attrs:{"no-body":""}},[e("b-row",{staticClass:"h-100",attrs:{"no-gutters":""}},[e("b-col",{staticClass:"text-center my-auto",attrs:{md:"6"}},[e("font-awesome-icon",{attrs:{icon:"users",size:"7x"}})],1),e("b-col",{staticClass:"my-auto",attrs:{md:"6"}},[e("b-card-body",{staticClass:"text-center",attrs:{title:"Total Clientes"}},[e("b-card-text",{staticClass:"h1 font-weight-bold"},[t._v(t._s(t.totalClients))])],1)],1)],1)],1)],1),e("div",{staticClass:"col-sm-6 col-xl-3 mb-3"},[e("b-card",{staticClass:"overflow-hidden h-100",attrs:{"no-body":""}},[e("b-row",{staticClass:"h-100",attrs:{"no-gutters":""}},[e("b-col",{staticClass:"my-auto text-center",attrs:{md:"6"}},[e("font-awesome-icon",{attrs:{icon:"users",size:"7x"}})],1),e("b-col",{staticClass:"my-auto",attrs:{md:"6"}},[e("b-card-body",{staticClass:"text-center my-auto",attrs:{title:"Clientes en el Mes"}},[e("b-card-text",{staticClass:"h1 font-weight-bold"},[t._v(t._s(t.clientMonth))])],1)],1)],1)],1)],1),e("div",{staticClass:"col-sm-6 col-xl-3 mb-3"},[e("b-card",{staticClass:"overflow-hidden h-100 mb-3",attrs:{"no-body":""}},[e("b-row",{staticClass:"h-100",attrs:{"no-gutters":""}},[e("b-col",{staticClass:"text-center my-auto",attrs:{md:"6",lg:"6"}},[e("font-awesome-icon",{attrs:{icon:"users",size:"7x"}})],1),e("b-col",{staticClass:"my-auto",attrs:{md:"6"}},[e("b-card-body",{staticClass:"text-center my-auto",attrs:{title:"Clientes en el Año"}},[e("b-card-text",{staticClass:"h1 font-weight-bold"},[t._v(t._s(t.ClientYear))])],1)],1)],1)],1)],1),e("div",{staticClass:"col-sm-6 col-xl-3 mb-3"},[e("b-card",{staticClass:"overflow-hidden h-100 mb-3",attrs:{"no-body":""}},[e("b-row",{staticClass:"h-100",attrs:{"no-gutters":""}},[e("b-col",{staticClass:"text-center my-auto",attrs:{md:"6"}},[e("font-awesome-icon",{attrs:{icon:"dollar-sign",size:"7x"}})],1),e("b-col",{staticClass:"my-auto",attrs:{md:"6"}},[e("b-card-body",{staticClass:"text-center my-auto",attrs:{title:"Ventas al Año"}},[e("b-card-text",{staticClass:"h1 font-weight-bold"},[t._v(t._s(t.VentasAnio))])],1)],1)],1)],1)],1),e("div",{staticClass:"col-8"},[e("card",{attrs:{type:"chart"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h5",{staticClass:"title d-inline"},[t._v("Clientes Por Departamento")])]},proxy:!0}])},[e("div",{staticClass:"chart-area"},[e("bar-chart",{staticStyle:{height:"100%"},attrs:{"chart-data":t.chartDataClientes,"extra-options":t.chartOptions}})],1)])],1),e("div",{staticClass:"col-4"},[e("card",{attrs:{type:"chart"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h5",{staticClass:"title d-inline"},[t._v("Clientes Por Edad")])]},proxy:!0}])},[e("div",{staticClass:"chart-area"},[e("bar-chart",{staticStyle:{height:"100%"},attrs:{"chart-data":t.chartDataEdad,"extra-options":t.chartOptions}})],1)])],1),e("div",{staticClass:"col-12"},[e("card",{attrs:{type:"chart"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h5",{staticClass:"title d-inline"},[t._v("Ventas del año")])]},proxy:!0}])},[e("div",{staticClass:"chart-area"},[e("line-chart",{staticStyle:{height:"100%"},attrs:{"chart-data":t.chartDataVentas,"extra-options":t.chartOptions}})],1)])],1)])},s=[],o=(e("a434"),e("159b"),e("6636")),i=e("1fca"),n={name:"pie-chart",extends:i["c"],mixins:[i["d"].reactiveProp],props:{extraOptions:Object,gradientColors:{type:Array,default:function(){return["rgba(72,72,176,0.2)","rgba(72,72,176,0.0)","rgba(119,52,169,0)"]},validator:function(t){return t.length>2}},gradientStops:{type:Array,default:function(){return[1,.4,0]},validator:function(t){return t.length>2}}},data:function(){return{ctx:null}},methods:{updateGradients:function(t){if(t){var a=this.ctx||document.getElementById(this.chartId).getContext("2d"),e=a.createLinearGradient(0,230,0,50);e.addColorStop(this.gradientStops[0],this.gradientColors[0]),e.addColorStop(this.gradientStops[1],this.gradientColors[1]),e.addColorStop(this.gradientStops[2],this.gradientColors[2]),t.datasets.forEach((function(t){t.backgroundColor=e}))}}},mounted:function(){var t=this;this.$watch("chartData",(function(a,e){t.updateGradients(a),e||t.renderChart(t.chartData,t.extraOptions)}),{immediate:!0})}},c={name:"bar-chart",extends:i["a"],mixins:[i["d"].reactiveProp],props:{extraOptions:Object,gradientColors:{type:Array,default:function(){return["rgba(72,72,176,0.2)","rgba(72,72,176,0.0)","rgba(119,52,169,0)"]},validator:function(t){return t.length>2}},gradientStops:{type:Array,default:function(){return[1,.4,0]},validator:function(t){return t.length>2}}},data:function(){return{ctx:null}},methods:{updateGradients:function(t){if(t){var a=this.ctx||document.getElementById(this.chartId).getContext("2d"),e=a.createLinearGradient(0,230,0,50);e.addColorStop(this.gradientStops[0],this.gradientColors[0]),e.addColorStop(this.gradientStops[1],this.gradientColors[1]),e.addColorStop(this.gradientStops[2],this.gradientColors[2]),t.datasets.forEach((function(t){t.backgroundColor=e}))}}},mounted:function(){var t=this;this.$watch("chartData",(function(a,e){t.updateGradients(a),e||t.renderChart(t.chartData,t.extraOptions)}),{immediate:!0})}},d=e("db49"),l=e("bc3a"),h={name:"Dashboard",components:{LineChart:o["a"],PieChart:n,BarChart:c},data:function(){return{totalClients:0,clientMonth:0,ClientYear:0,VentasAnio:0,isBusy:!0,clientsDepartmentData:[],clientsDapartmentLabelData:[],edadList:[],edadLabel:[],VentasAnioData:[],VentasAnioLabels:[],chartOptions:{maintainAspectRatio:!1,legend:{display:!1},responsive:!0}}},created:function(){var t=this,a=JSON.parse(sessionStorage.getItem("token"));l.post("https://crm-umg.herokuapp.com/api/dashboard/",{},{headers:{Authorization:"Bearer ".concat(a.access)}}).then((function(a){var e=a.data;for(var r in t.totalClients=e.total_clientes,t.clientMonth=e.clientes_este_mes,t.ClientYear=e.clientes_este_anio,t.VentasAnio=e.ventas_realizadas,t.clientsDepartmentData.splice(0),t.clientsDapartmentLabelData.splice(0),e.clientes_por_departamento.forEach((function(a){t.clientsDepartmentData.push(a.clientes),t.clientsDapartmentLabelData.push(a.departamento)})),t.edadList.splice(0),t.edadLabel.splice(0),e.clientes_por_edad)t.edadLabel.push(r),t.edadList.push(e.clientes_por_edad[r]);t.VentasAnioData.splice(0),t.VentasAnioLabels.splice(0),e.ventas_del_anio.reverse().forEach((function(a){t.VentasAnioData.push(a.total),t.VentasAnioLabels.push(a.desde)}))})).catch((function(a){return t.showError(a.response.data.detail)}))},computed:{chartDataClientes:function(){return{datasets:[{fill:!0,borderColor:d["a"].colors.primary,borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:d["a"].colors.primary,pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:d["a"].colors.primary,pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:this.clientsDepartmentData}],labels:this.clientsDapartmentLabelData}},chartDataEdad:function(){return{datasets:[{fill:!0,borderColor:d["a"].colors.primary,borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:d["a"].colors.primary,pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:d["a"].colors.primary,pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:this.edadList}],labels:this.edadLabel}},chartDataVentas:function(){return{datasets:[{fill:!0,borderColor:d["a"].colors.primary,borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:d["a"].colors.primary,pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:d["a"].colors.primary,pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:this.VentasAnioData}],labels:this.VentasAnioLabels}}}},p=h,u=(e("734a"),e("0c7c")),b=Object(u["a"])(p,r,s,!1,null,"0f4f7542",null);a["default"]=b.exports},"734a":function(t,a,e){"use strict";e("e2f8")},e2f8:function(t,a,e){}}]);
//# sourceMappingURL=dashboard.da12f38b.js.map